(function(t){function e(e){for(var n,a,r=e[0],c=e[1],d=e[2],u=0,l=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&l.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);h&&h(e);while(l.length)l.shift()();return s.push.apply(s,d||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var r=o[a];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},a={app:0},i={app:0},s=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-1951d2b3":"35c7198e"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={"chunk-1951d2b3":1};a[t]?e.push(a[t]):0!==a[t]&&o[t]&&e.push(a[t]=new Promise((function(e,o){for(var n="css/"+({}[t]||t)+"."+{"chunk-1951d2b3":"6d9df764"}[t]+".css",i=c.p+n,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var d=s[r],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===n||u===i))return e()}var l=document.getElementsByTagName("style");for(r=0;r<l.length;r++){d=l[r],u=d.getAttribute("data-href");if(u===n||u===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var n=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[t],h.parentNode.removeChild(h),o(s)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=s);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var l=new Error;d=function(e){u.onerror=u.onload=null,clearTimeout(h);var o=i[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,o[1](l)}i[t]=void 0}};var h=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=e,d=d.slice();for(var l=0;l<d.length;l++)e(d[l]);var h=u;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0553":function(t,e,o){},2395:function(t,e,o){},2935:function(t,e,o){"use strict";var n=o("cbc6"),a=o.n(n);a.a},3723:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"note"},[o("h3",{staticClass:"note__title",class:{note__title_contentEditableTitle:!t.isNotesPreview},attrs:{contenteditable:!t.isNotesPreview},on:{keyup:function(e){return t.saveChanges()}}},[t._v(" "+t._s(t.note.title)+" ")]),o("div",{staticClass:"note__todos",class:{note__todos_cut:t.isNotesPreview}},t._l(t.note.todos,(function(e){return o("div",{key:e.id,staticClass:"note__todo",attrs:{id:e.id}},[o("label",{staticClass:"note__label",class:{checked:e.isComplete}},[t.isNotesPreview?t._e():o("input",{staticClass:"note__checkbox",attrs:{type:"checkbox"},domProps:{checked:e.isComplete},on:{change:function(e){return t.checkTodo(e)}}})]),o("p",{staticClass:"note__text",class:{note__text_contentEditableText:!t.isNotesPreview},attrs:{contenteditable:!t.isNotesPreview},on:{keyup:function(e){return t.saveChanges()}}},[t._v(" "+t._s(e.text)+" ")]),t.isNotesPreview?t._e():o("button",{staticClass:"note__todo-button",attrs:{title:"Delete todo"},on:{click:function(e){return t.deleteTodo(e)}}},[o("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])])})),0),o("div",{staticClass:"note__buttons-container"},[t.isNotesPreview?o("button",{staticClass:"note__button",attrs:{title:"Edit note"},on:{click:function(e){return t.editNote(t.note)}}},[t._v(" Edit ")]):t._e(),t.isNotesPreview?o("button",{staticClass:"note__button",attrs:{title:"Delete note"},on:{click:function(e){return t.deleteNote(t.note)}}},[t._v(" Delete ")]):t._e(),t.isNotesPreview?t._e():o("button",{staticClass:"note__button",attrs:{title:"Add todo"},on:{click:function(e){return t.addTodo()}}},[t._v(" Add ")])])])},a=[],i=(o("4160"),o("c975"),o("159b"),o("2909")),s={name:"Note",props:["note","isNotesPreview"],methods:{editNote:function(t){var e=this;this.$store.dispatch("editNote",t).then((function(){return e.$router.push("/editing")}))},deleteNote:function(t){var e=t.id;this.$store.dispatch("deleteNote",e)},saveChanges:function(){var t=document.querySelectorAll(".note__todo"),e=[];t.forEach((function(t){e.push({id:t.getAttribute("id"),isComplete:t.childNodes[0].childNodes[0].checked,text:t.childNodes[1].textContent})}));var o={id:this.note.id,title:document.querySelector(".note__title").textContent,todos:e};this.$store.dispatch("saveLastChanges",o)},addTodo:function(){var t=this;this.$store.dispatch("addTodo").then((function(){return t.saveChanges()}))},deleteTodo:function(t){var e=this,o=Object(i["a"])(document.querySelectorAll(".note__todo")).indexOf(t.target.parentNode);this.$store.dispatch("deleteTodo",o).then((function(){return e.saveChanges()}))},checkTodo:function(t){var e=this,o=Object(i["a"])(document.querySelectorAll(".note__todo")).indexOf(t.target.parentNode.parentNode);this.$store.dispatch("checkTodo",o).then((function(){return e.saveChanges()}))}}},r=s,c=(o("2935"),o("2877")),d=Object(c["a"])(r,n,a,!1,null,"19cf125f",null);e["a"]=d.exports},"387a":function(t,e,o){"use strict";var n=o("0553"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[this.$store.state.ModalWindowIsShow?o("modalWindow"):t._e(),o("i",{staticClass:"fa fa-book logo",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.greeting()}}}),o("router-view")],1)},i=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal"},[o("div",{staticClass:"modal__window"},[this.isCancelOrDelete?o("p",{staticClass:"modal__text"},[t._v(" Exit without saving changes? ")]):o("p",{staticClass:"modal__text"},[t._v(" Delete this note? ")]),o("button",{staticClass:"modal__button",on:{click:function(e){return t.modalConfirm()}}},[t._v("Done")]),o("button",{staticClass:"modal__button",on:{click:function(e){return t.modalDiscard()}}},[t._v("Cancel")])])])},r=[],c={name:"modalWindow",methods:{modalConfirm:function(){var t=this;this.isCancelOrDelete?this.$store.dispatch("modalConfirmCancel").then((function(){return t.$store.dispatch("updateNotes")})).then((function(){return t.$router.push("/")})):this.$store.dispatch("modalConfirmDelete").then((function(){return t.$store.dispatch("updateNotes")})).then((function(){return t.$router.push("/")}))},modalDiscard:function(){this.$store.dispatch("modalDiscard")}},computed:{isCancelOrDelete:function(){return this.$store.state.ModalWindowTypeIsCancel}}},d=c,u=(o("387a"),o("2877")),l=Object(u["a"])(d,s,r,!1,null,"ab0d117a",null),h=l.exports,f={components:{modalWindow:h},methods:{greeting:function(){alert("Greeting you! \nCongratulating - you are awesome!!!")}}},m=f,p=(o("7c55"),Object(u["a"])(m,a,i,!1,null,null,null)),C=p.exports,g=(o("d3b7"),o("8c4f")),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("h1",{staticClass:"home__title"},[t._v("This is a home page")]),o("button",{staticClass:"home__button",attrs:{title:"Create new note"},on:{click:function(e){return t.createNewNote()}}},[t._v(" Create ")]),t._l(t.notes,(function(t){return o("Note",{key:t.id,staticClass:"home__note",attrs:{id:t.id,note:t,isNotesPreview:!0}})}))],2)},N=[],_=o("3723"),b={name:"Home",components:{Note:_["a"]},methods:{createNewNote:function(){var t=this;this.$store.dispatch("createNewNote").then((function(){return t.$router.push("/editing")}))}},computed:{notes:function(){return this.$store.state.notes}},mounted:function(){this.$store.dispatch("loadNotes")}},w=b,y=(o("c7bc"),Object(u["a"])(w,v,N,!1,null,"af0a40d6",null)),O=y.exports;n["a"].use(g["a"]);var k=[{path:"/",name:"Home",component:O},{path:"/editing",name:"Editing",component:function(){return o.e("chunk-1951d2b3").then(o.bind(null,"463b"))}}],T=new g["a"]({mode:"hash",base:"",routes:k}),j=T,E=(o("7db0"),o("c740"),o("a434"),o("2909")),x=o("5530"),D=o("2f62");n["a"].use(D["a"]);var S=new D["a"].Store({state:{LastEditingNote:{},NoteChanges:[],ChangesCounter:0,ModalWindowIsShow:!1,ModalWindowTypeIsCancel:null,DeletingNoteID:null,notes:[]},mutations:{editNote:function(t,e){t.ChangesCounter=0,t.NoteChanges=[],t.LastEditingNote=Object(x["a"])({},e)},deleteNote:function(t,e){t.ModalWindowTypeIsCancel=!1,t.ModalWindowIsShow=!0,t.DeletingNoteID=e},saveLastChanges:function(t,e){t.NoteChanges.unshift(e),t.NoteChanges.length>=100&&t.NoteChanges.splice(50,50)},createNewNote:function(t){t.ChangesCounter=0,t.NoteChanges=[],t.LastEditingNote={id:Math.round(100*Math.random()),title:"New note",todos:[]}},saveNote:function(t){var e=Object(x["a"])({},t.NoteChanges[0]),o=Object(E["a"])(t.notes),n=o.find((function(t){return t.id===e.id}));n?(n.id=e.id,n.title=e.title,n.todos=[],n.todos=e.todos):t.NoteChanges[0]&&o.unshift(e),t.notes=Object(E["a"])(o),t.LastEditingNote=Object(x["a"])({},e),t.ChangesCounter=0,t.NoteChanges=[]},cancel:function(t){t.ModalWindowTypeIsCancel=!0,t.ModalWindowIsShow=!0},addTodo:function(t){var e={id:Math.round(100*Math.random()),isComplete:!1,text:""},o=Object(E["a"])(t.LastEditingNote.todos);o.push(e),t.LastEditingNote.todos=Object(E["a"])(o)},deleteTodo:function(t,e){var o=Object(E["a"])(t.LastEditingNote.todos);o.splice(e,1),t.LastEditingNote.todos=Object(E["a"])(o)},stepBack:function(t){t.ChangesCounter<t.NoteChanges.length&&t.ChangesCounter++,t.LastEditingNote=Object(x["a"])({},t.NoteChanges[t.ChangesCounter])},stepForward:function(t){t.ChangesCounter>=0&&t.ChangesCounter--,t.LastEditingNote=Object(x["a"])({},t.NoteChanges[t.ChangesCounter])},modalConfirmCancel:function(t){t.ChangesCounter=0,t.NoteChanges=[],t.ModalWindowIsShow=!1,t.ModalWindowTypeIsCancel=0},modalConfirmDelete:function(t){var e=t.DeletingNoteID,o=Object(E["a"])(t.notes),n=o.findIndex((function(t){return t.id===e}));o.splice(n,1),t.notes=Object(E["a"])(o),t.ChangesCounter=0,t.NoteChanges=[],t.ModalWindowIsShow=!1,t.ModalWindowTypeIsCancel=0},modalDiscard:function(t){t.ModalWindowIsShow=!1,t.ModalWindowTypeIsCancel=0},checkTodo:function(t,e){var o=Object(E["a"])(t.LastEditingNote.todos);o[e].isComplete=!o[e].isComplete,t.LastEditingNote.todos=Object(E["a"])(o)},loadNotes:function(t){localStorage.getItem("notes")?t.notes=Object(E["a"])(JSON.parse(localStorage.getItem("notes"))):t.notes=[]},updateNotes:function(t){localStorage.setItem("notes",JSON.stringify(t.notes))}},actions:{editNote:function(t,e){t.commit("editNote",e)},deleteNote:function(t,e){t.commit("deleteNote",e)},saveLastChanges:function(t,e){t.commit("saveLastChanges",e)},createNewNote:function(t){t.commit("createNewNote")},saveNote:function(t){t.commit("saveNote")},cancel:function(t){t.commit("cancel")},addTodo:function(t){t.commit("addTodo")},deleteTodo:function(t,e){t.commit("deleteTodo",e)},stepBack:function(t){t.commit("stepBack")},stepForward:function(t){t.commit("stepForward")},modalConfirmCancel:function(t){t.commit("modalConfirmCancel")},modalConfirmDelete:function(t){t.commit("modalConfirmDelete")},modalDiscard:function(t){t.commit("modalDiscard")},checkTodo:function(t,e){t.commit("checkTodo",e)},loadNotes:function(t){t.commit("loadNotes")},updateNotes:function(t){t.commit("updateNotes")}},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:j,store:S,render:function(t){return t(C)}}).$mount("#app")},"7c55":function(t,e,o){"use strict";var n=o("2395"),a=o.n(n);a.a},a365:function(t,e,o){},c7bc:function(t,e,o){"use strict";var n=o("a365"),a=o.n(n);a.a},cbc6:function(t,e,o){}});
//# sourceMappingURL=app.48189834.js.map